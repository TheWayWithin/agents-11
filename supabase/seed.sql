-- Seed data for development and testing
-- This file populates the database with sample data

-- Insert sample profiles (these will be linked to auth.users in real usage)
INSERT INTO public.profiles (id, email, full_name, username, bio, website, location) VALUES
  ('00000000-0000-0000-0000-000000000001', 'jamie@agents11.com', 'Jamie Watters', 'jamie', 'Founder of Agents-11. Building the future of AI agent libraries.', 'https://agents11.com', 'San Francisco, CA'),
  ('00000000-0000-0000-0000-000000000002', 'demo@example.com', 'Demo User', 'demo', 'A demo user for testing the marketplace.', null, 'Remote'),
  ('00000000-0000-0000-0000-000000000003', 'author@example.com', 'Library Author', 'libauthor', 'Creating amazing AI agent libraries for everyone.', 'https://example.com', 'New York, NY');

-- Insert sample libraries
INSERT INTO public.libraries (id, name, slug, description, long_description, category, tier_required, version, download_url, file_size, tags, author_id, featured, published, download_count, rating, rating_count, published_at) VALUES
  ('10000000-0000-0000-0000-000000000001', 
   'Data Processing Suite', 
   'data-processing-suite', 
   'Comprehensive data processing and transformation tools for Claude Code',
   'A complete suite of data processing tools including CSV parsing, JSON transformation, data validation, and export utilities. Perfect for handling large datasets and complex data workflows.',
   'data_processing', 
   'basic', 
   '1.0.0', 
   'https://storage.supabase.co/v1/object/public/libraries/data-processing-suite-v1.zip',
   2048000,
   ARRAY['data', 'csv', 'json', 'transform', 'validation'],
   '00000000-0000-0000-0000-000000000001',
   true,
   true,
   156,
   4.8,
   23,
   now()),
   
  ('10000000-0000-0000-0000-000000000002',
   'Automation Workflows',
   'automation-workflows',
   'Advanced automation tools for complex multi-step processes',
   'Build sophisticated automation workflows with conditional logic, error handling, and parallel processing. Includes templates for common automation patterns and integration helpers.',
   'automation',
   'pro',
   '2.1.0',
   'https://storage.supabase.co/v1/object/public/libraries/automation-workflows-v2.zip',
   5120000,
   ARRAY['automation', 'workflow', 'scheduling', 'integration'],
   '00000000-0000-0000-0000-000000000003',
   true,
   true,
   89,
   4.9,
   18,
   now()),

  ('10000000-0000-0000-0000-000000000003',
   'Advanced Analytics Engine',
   'advanced-analytics-engine',
   'Enterprise-grade analytics and reporting system',
   'Powerful analytics engine with machine learning capabilities, custom dashboards, and advanced statistical analysis. Includes predictive modeling and data visualization components.',
   'analysis',
   'enterprise',
   '1.5.0',
   'https://storage.supabase.co/v1/object/public/libraries/analytics-engine-v1.zip',
   8192000,
   ARRAY['analytics', 'ml', 'statistics', 'dashboards', 'reporting'],
   '00000000-0000-0000-0000-000000000001',
   true,
   true,
   42,
   4.7,
   12,
   now()),

  ('10000000-0000-0000-0000-000000000004',
   'Communication Hub',
   'communication-hub',
   'Unified communication tools for notifications and messaging',
   'Centralized communication system supporting email, SMS, Slack, Discord, and more. Includes template management, scheduling, and delivery tracking.',
   'communication',
   'basic',
   '1.2.0',
   'https://storage.supabase.co/v1/object/public/libraries/communication-hub-v1.zip',
   1536000,
   ARRAY['email', 'sms', 'notifications', 'messaging', 'templates'],
   '00000000-0000-0000-0000-000000000003',
   false,
   true,
   203,
   4.6,
   34,
   now()),

  ('10000000-0000-0000-0000-000000000005',
   'API Integration Toolkit',
   'api-integration-toolkit',
   'Comprehensive tools for API integration and management',
   'Everything you need for API integration: authentication helpers, rate limiting, response parsing, error handling, and testing utilities. Supports REST, GraphQL, and WebSocket APIs.',
   'integration',
   'pro',
   '3.0.0',
   'https://storage.supabase.co/v1/object/public/libraries/api-toolkit-v3.zip',
   3072000,
   ARRAY['api', 'rest', 'graphql', 'websocket', 'auth', 'testing'],
   '00000000-0000-0000-0000-000000000001',
   true,
   true,
   127,
   4.9,
   27,
   now()),

  ('10000000-0000-0000-0000-000000000006',
   'Utility Collection',
   'utility-collection',
   'Essential utilities and helper functions for everyday tasks',
   'A curated collection of utility functions for string manipulation, date handling, file operations, encryption, and more. Saves time on common programming tasks.',
   'utilities',
   'basic',
   '1.8.0',
   'https://storage.supabase.co/v1/object/public/libraries/utility-collection-v1.zip',
   512000,
   ARRAY['utilities', 'helpers', 'string', 'date', 'crypto', 'files'],
   '00000000-0000-0000-0000-000000000003',
   false,
   true,
   312,
   4.5,
   67,
   now());

-- Insert sample subscriptions
INSERT INTO public.subscriptions (id, user_id, stripe_subscription_id, stripe_customer_id, tier, status, current_period_start, current_period_end, cancel_at_period_end) VALUES
  ('20000000-0000-0000-0000-000000000001', 
   '00000000-0000-0000-0000-000000000002', 
   'sub_demo_basic_123456', 
   'cus_demo_123456',
   'basic', 
   'active', 
   now() - interval '15 days',
   now() + interval '15 days',
   false),
   
  ('20000000-0000-0000-0000-000000000002',
   '00000000-0000-0000-0000-000000000003',
   'sub_demo_pro_789012',
   'cus_demo_789012',
   'pro',
   'active',
   now() - interval '5 days',
   now() + interval '25 days',
   false);

-- Insert sample downloads
INSERT INTO public.downloads (user_id, library_id, downloaded_at, ip_address, user_agent) VALUES
  ('00000000-0000-0000-0000-000000000002', '10000000-0000-0000-0000-000000000001', now() - interval '3 days', '192.168.1.100', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)'),
  ('00000000-0000-0000-0000-000000000002', '10000000-0000-0000-0000-000000000004', now() - interval '2 days', '192.168.1.100', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)'),
  ('00000000-0000-0000-0000-000000000002', '10000000-0000-0000-0000-000000000006', now() - interval '1 day', '192.168.1.100', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)'),
  ('00000000-0000-0000-0000-000000000003', '10000000-0000-0000-0000-000000000002', now() - interval '1 day', '10.0.0.50', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)'),
  ('00000000-0000-0000-0000-000000000003', '10000000-0000-0000-0000-000000000005', now() - interval '6 hours', '10.0.0.50', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)');

-- Insert sample ratings
INSERT INTO public.library_ratings (user_id, library_id, rating, review) VALUES
  ('00000000-0000-0000-0000-000000000002', '10000000-0000-0000-0000-000000000001', 5, 'Excellent data processing tools! Saved me hours of work.'),
  ('00000000-0000-0000-0000-000000000002', '10000000-0000-0000-0000-000000000004', 4, 'Very useful communication tools. Easy to set up and use.'),
  ('00000000-0000-0000-0000-000000000002', '10000000-0000-0000-0000-000000000006', 4, 'Good collection of utilities. Could use more documentation.'),
  ('00000000-0000-0000-0000-000000000003', '10000000-0000-0000-0000-000000000002', 5, 'Amazing automation capabilities. The workflow builder is fantastic.'),
  ('00000000-0000-0000-0000-000000000003', '10000000-0000-0000-0000-000000000005', 5, 'Best API integration toolkit I''ve used. Comprehensive and well-documented.');

-- Note: In a real application, the profile IDs would be generated by Supabase Auth
-- and linked automatically via the handle_new_user() trigger function.